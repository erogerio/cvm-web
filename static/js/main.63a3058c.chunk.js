(this["webpackJsonpcvm-web"]=this["webpackJsonpcvm-web"]||[]).push([[0],{58:function(e,t,a){e.exports=a(89)},64:function(e,t,a){},84:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(9),r=a.n(l),o=a(13),s=a.n(o),u=a(11),i=Object(n.createContext)(null);a(64);function m(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],l=t[1],r=Object(n.useContext)(i),o=r.getFounds,s=r.fundos;Object(n.useEffect)((function(){o()}),[o]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"limiter"},c.a.createElement("div",{className:"container-table100"},c.a.createElement("div",{className:"wrap-table100"},c.a.createElement("div",{className:"table"},c.a.createElement("div",{className:"row header"},!a||c.a.createElement("div",{className:"cell"},"Fundo"),c.a.createElement("div",{className:"cell"},"Data"),c.a.createElement("div",{className:"cell"},"Cota\xe7\xe3o"," ",c.a.createElement("label",{className:"switch toggleNames",htmlFor:"toggleInput"},c.a.createElement("input",{type:"checkbox",defaultChecked:!0,onClick:function(){l(!a)},id:"toggleInput"}),c.a.createElement("span",{className:"slider round"})))),s&&s.map((function(e){return c.a.createElement("div",{className:"row",key:e.nome},!a||c.a.createElement("div",{className:"cell","data-title":"Fundo"},e.nome),c.a.createElement("div",{className:"cell","data-title":"Data"},e.data),c.a.createElement("div",{className:"cell","data-title":"Cota\xe7\xe3o"},e.cotacao))})))))))}var d=a(44),v=a.n(d),p=a(45),b=a.n(p).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:""}).apiurl||"http://localhost:3333"});function E(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(""),o=Object(u.a)(r,2),m=o[0],d=o[1],p=Object(n.useContext)(i),E=p.message,f=p.getFounds;Object(n.useEffect)((function(){!function(){var e;s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(b.get("/info"));case 2:e=t.sent,l(e.data.response);case 4:case"end":return t.stop()}}))}()}),[E]);return c.a.createElement(c.a.Fragment,null,a?c.a.createElement("div",{className:"limiter"},c.a.createElement("div",{className:"container-table100 status"},c.a.createElement("div",{className:"wrap-table100"},c.a.createElement("div",{className:"table"},c.a.createElement("div",{className:"row header"},c.a.createElement("div",{className:"cell"},"Data CVM"),c.a.createElement("div",{className:"cell"},"\xdaltimo download"),c.a.createElement("div",{className:"cell"},"\xdaltimo Arquivo"),c.a.createElement("div",{className:"cell"},"Novo Arquivo"),c.a.createElement("div",{className:"cell"})),c.a.createElement("div",{className:"row",key:a.dt_ultima_atualizacao_cvm},c.a.createElement("div",{className:"cell","data-title":"Data CVM"},a.dt_ultima_atualizacao_cvm),c.a.createElement("div",{className:"cell","data-title":"\xdaltimo Download"},!a.dt_ultimo_download||""===a.dt_ultimo_download||c.a.createElement(v.a,{format:"DD/MM/YYYY HH:mm",date:a.dt_ultimo_download})),c.a.createElement("div",{className:"cell","data-title":"\xdaltimo Arquivo"},a.ultimo_arquivo_baixado),c.a.createElement("div",{className:"cell","data-title":"Novo Arquivo"},c.a.createElement("input",{type:"text",value:m,onChange:function(e){return d(e.target.value)}})),c.a.createElement("div",{className:"cell","data-title":"Atualizar"},c.a.createElement("button",{type:"button",onClick:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.awrap(b.post("/update",{novoArquivo:m}));case 3:e=t.sent,console.log(e.data.response),l(e.data.response),f(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),null,null,[[0,9]])}},"Atualizar"))))))):c.a.createElement("div",null))}var f=a(125),g=a(126);a(84);function O(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(0),o=Object(u.a)(r,2),s=o[0],m=o[1],d=Object(n.useState)(""),v=Object(u.a)(d,2),p=v[0],b=v[1],E=Object(n.useState)(null),O=Object(u.a)(E,2),N=O[0],h=O[1],j=Object(n.useContext)(i),x=j.lista,C=j.getLista,w=j.getHistorico,k=j.historico,y=j.cadastro,_=j.getCadastro;Object(n.useEffect)((function(){C()}),[C]);Object(n.useEffect)((function(){_(" ")}),[_]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"historico"},c.a.createElement("form",null,c.a.createElement("select",{onChange:function(e){var t=e.target.options.selectedIndex,a=e.target.options[t].getAttribute("data-key");l(a),w(a),m(e.target.value)},value:s},c.a.createElement("option",{key:"0",value:"","data-key":""},"Selecione"),x.map((function(e){return c.a.createElement("option",{key:e.cnpj,"data-key":e.cnpj},e.nome)}))),c.a.createElement("input",{type:"text",name:"cnpj",placeholder:"CNPJ",onKeyDown:function(e){"Enter"===e.key&&w(a)},value:a,onChange:function(e){return l(e.target.value)}}),c.a.createElement("input",{type:"text",name:"descricao",placeholder:"Descri\xe7\xe3o",value:p,onChange:function(e){return b(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(l(""),_(p))}}),c.a.createElement(g.a,{id:"combo-box-demo",options:y,freeSolo:!0,autoHighlight:!0,disableOpenOnFocus:!0,ListboxProps:{bla:1},getOptionLabel:function(e){return"".concat(e.DENOM_SOCIAL," - ").concat(e.CNPJ_FUNDO)},value:N,onChange:function(e,t){w(t?t.CNPJ_FUNDO:""),h(t),l(""),console.log(t)},renderInput:function(e){return c.a.createElement(f.a,Object.assign({},e,{label:"".concat(y.length," fundos encontrados"),variant:"outlined",fullWidth:!0,bla:e.CNPJ_FUNDO}))}}),c.a.createElement("hr",null),c.a.createElement("ul",null,k&&k.map((function(e){return c.a.createElement("li",{key:e.DT_COMPTC},e.CNPJ_FUNDO,"-",e.DT_COMPTC,"-",e.VL_QUOTA)}))))))}var N=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)([]),o=Object(u.a)(r,2),d=o[0],v=o[1],p=Object(n.useState)([]),f=Object(u.a)(p,2),g=f[0],N=f[1],h=Object(n.useState)([]),j=Object(u.a)(h,2),x=j[0],C=j[1],w=Object(n.useCallback)((function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.awrap(b.get("quotes"));case 3:e=t.sent,l(e.data.response),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data.error&&console.log(t.t0.response.data.error);case 10:case"end":return t.stop()}}),null,null,[[0,7]])}),[]),k=Object(n.useCallback)((function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.a.awrap(b.get("getfounds"));case 3:e=t.sent,v(e.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.data.error&&console.log(t.t0.data.error);case 10:case"end":return t.stop()}}),null,null,[[0,7]])}),[]),y=Object(n.useCallback)((function(e){var t,a;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t=e.replace(/[^0-9]+/g,"").substring(0,14),console.log(t),console.log(e),!(t.length>0)){n.next=12;break}return n.next=7,s.a.awrap(b.get("historico/".concat(t)));case 7:a=n.sent,console.log(a.data),N(a.data),n.next=13;break;case 12:N(null);case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),n.t0.data&&n.t0.data.error&&console.log(n.t0.data.error);case 18:case"end":return n.stop()}}),null,null,[[0,15]])}),[]),_=Object(n.useCallback)((function(e){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(e.length>0)){a.next=9;break}return a.next=4,s.a.awrap(b.get("cadastro/?descricao=".concat(e)));case 4:t=a.sent,C(t.data),console.log("".concat(t.data.length," resigstros encontrados para").concat(e)),a.next=10;break;case 9:C([]);case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),a.t0.data.error&&console.log(a.t0.data.error);case 15:case"end":return a.stop()}}),null,null,[[0,12]])}),[]),D=Object(n.useMemo)((function(){return{fundos:a,setFundos:l,getFounds:w,lista:d,setLista:v,getLista:k,getHistorico:y,historico:g,setHistorico:N,cadastro:x,getCadastro:_}}),[a,l,w,d,v,k,y,g,N,x,_]);return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(i.Provider,{value:D},c.a.createElement(E,null),c.a.createElement(m,null),c.a.createElement(O,null))))};r.a.render(c.a.createElement(N,null),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.63a3058c.chunk.js.map